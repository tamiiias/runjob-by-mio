{"version":3,"file":"src_app_postuler-offre-emploi_postuler-offre-emploi_module_ts.js","mappings":"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","sources":["./src/app/postuler-offre-emploi/postuler-offre-emploi-routing.module.ts","./src/app/postuler-offre-emploi/postuler-offre-emploi.module.ts","./src/app/postuler-offre-emploi/postuler-offre-emploi.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PostulerOffreEmploiPage } from './postuler-offre-emploi.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PostulerOffreEmploiPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PostulerOffreEmploiPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { PostulerOffreEmploiPageRoutingModule } from './postuler-offre-emploi-routing.module';\nimport { PostulerOffreEmploiPage } from './postuler-offre-emploi.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    PostulerOffreEmploiPageRoutingModule\n  ],\n  declarations: [PostulerOffreEmploiPage]\n})\nexport class PostulerOffreEmploiPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { OffresEmploiService } from '../services/offres-emploi.service';\nimport { CandidaturesService } from '../services/candidatures.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-postuler-offre-emploi',\n  templateUrl: './postuler-offre-emploi.page.html',\n  styleUrls: ['./postuler-offre-emploi.page.scss'],\n})\nexport class PostulerOffreEmploiPage implements OnInit {\n\n  postulerOffreEmploiForm: FormGroup;\n  user: any;\n  offreEmploi$: Observable<any>;\n  \n  constructor(public formBuilder: FormBuilder,\n        private offresEmploiService: OffresEmploiService,\n        private candidaturesService: CandidaturesService,\n        private authenticationService: AuthenticationService,\n        private route: ActivatedRoute) { }\n\n  ngOnInit() {\n  \n    const offreEmploiId = +this.route.snapshot.params['id'];\n    \n    this.offreEmploi$ = this.offresEmploiService.getOffreEmploiById(offreEmploiId);\n    \n    this.authenticationService.getUser()\n      .then(user => {\n      this.user = JSON.parse(user);\n      console.info(this.user.displayname);\n      this.postulerOffreEmploiForm.controls['nom'].setValue(this.user.lastname);\n      this.postulerOffreEmploiForm.controls['prenom'].setValue(this.user.firstname);\n      this.postulerOffreEmploiForm.controls['email'].setValue(this.user.email);\n    });\n    \n    this.postulerOffreEmploiForm = this.formBuilder.group({\n      parent_id: [offreEmploiId, [Validators.required]],\n      relationship: ['offre-emploi-candidature', [Validators.required]],\n      nom: [this.user, [Validators.required, Validators.minLength(2)]],\n      prenom: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required, Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$')]],\n      telephone: ['', [Validators.required, Validators.pattern('^[0-9]+$')]],\n      cv: ['']\n    })\n  }\n  \n  submitForm() {\n      this.candidaturesService.createCandidature(this.postulerOffreEmploiForm.value);\n  }\n  \n  file_input_change(event) {\n  \n    console.info(\"event\");\n    console.info(event);\n    if(event.srcElement.value != \"\"){\n      document.getElementsByClassName('success')[0].innerHTML = event.target.files[0].name;\n      document.getElementsByClassName('success')[0].classList.add('visible');\n    }\n    else{\n      document.getElementsByClassName('success')[0].innerHTML = \"\";  \n    }\n    \n    this.candidaturesService.cv_file = event.target.files[0];\n    \n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}