{"version":3,"file":"src_app_register_register_module_ts.js","mappings":"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","sources":["./src/app/register/register-routing.module.ts","./src/app/register/register.module.ts","./src/app/register/register.page.ts","./src/app/services/authentication.service.ts","./node_modules/@capacitor/preferences/dist/esm/definitions.js","./node_modules/@capacitor/preferences/dist/esm/index.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RegisterPageRoutingModule } from './register-routing.module';\nimport { RegisterPage } from './register.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RegisterPageRoutingModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FormGroup, FormBuilder, Validators, AbstractControl, ValidationErrors, ValidatorFn } from \"@angular/forms\";\nimport { LoadingController } from '@ionic/angular';\nimport { AuthenticationService } from '../services/authentication.service';\nimport { AlertController } from '@ionic/angular';\nimport { SecteurActivite } from '../models/secteur-activite.model';\nimport { SecteursActiviteService } from '../services/secteurs-activite.service';\nimport { Observable } from 'rxjs';\n\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n\n  \n  registerForm: FormGroup;\n  errorMessage: string;\n  secteursActivite$: Observable<Array<SecteurActivite>>;\n  is_conseiller_hidden: boolean;\n  \n  constructor(public formBuilder: FormBuilder,\n    private router: Router,\n    public authenticationService: AuthenticationService,\n    public loadingController: LoadingController,\n    public alertController: AlertController,\n    private secteursActiviteService: SecteursActiviteService) { }\n\n  ngOnInit() {\n  \n  \n    this.is_conseiller_hidden = true;\n    \n    this.registerForm = this.formBuilder.group({\n      prenom: ['', [Validators.required, Validators.minLength(2)]],\n      nom: ['', [Validators.required, Validators.minLength(2)]],\n      email: ['', [Validators.required, Validators.pattern('[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$')]],\n      email_confirm: ['', [Validators.required, this.matchValues('email')]],\n      username: ['', [Validators.required]],\n      telephone: ['', [Validators.required, Validators.minLength(10), Validators.pattern('^[0-9]+$')]],\n      code_postal: ['', [Validators.required, Validators.minLength(5), Validators.maxLength(5), Validators.pattern('^[0-9]+$')]],\n      password: ['', [Validators.required]],\n      password_confirm: ['', [Validators.required, this.matchValues('password')]],\n      inscrit_mission_locale: ['false'],\n      conseiller: [''],\n      secteur_activite: ['', [Validators.required]],\n      emploi_formation: ['', [Validators.required]],\n      accept_politique_confidentialite: ['false', [Validators.requiredTrue]]\n    });\n    \n    \n    this.registerForm.controls.password.valueChanges.subscribe(() => {\n      this.registerForm.controls.password_confirm.updateValueAndValidity();\n    });\n    this.registerForm.controls.email.valueChanges.subscribe(() => {\n      this.registerForm.controls.email_confirm.updateValueAndValidity();\n    });\n    \n    this.secteursActivite$ = this.secteursActiviteService.secteursActivite;\n    \n  }\n  \n  matchValues( matchTo: string ) : (AbstractControl) => ValidationErrors | null {\n    return (control: AbstractControl): ValidationErrors | null => {\n      return !!control.parent &&\n        !!control.parent.value &&\n        control.value === control.parent.controls[matchTo].value\n        ? null\n        : { isMatching: false };\n    };\n  }\n  \n  async submitForm() {\n    \n    \n    const that = this;\n    this.errorMessage = '';\n    const loading = await this.loadingController.create({\n      message: 'Veuillez patienter...'\n    });\n    await loading.present();\n\n    this.authenticationService.doRegister(this.registerForm.value)\n    .subscribe(\n        res => {\n            loading.dismiss();\n            console.info('res');\n            console.info(res);\n            console.info(this);\n            this.presentAlertConfirm('Confirmation', res['message'], function(){\n                console.info('inside callback');\n                that.alertController.dismiss();\n                that.router.navigate(['/login']);\n            });\n          \n        },\n        err => {\n          loading.dismiss();\n          console.info('err');\n          console.info(err.error.message);\n          this.errorMessage = err.error.message;\n        }\n    )\n  }\n  \n  async presentAlertConfirm(title, message, ok_callback) {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: title,\n      message: message,\n      buttons: [\n        {\n          text: 'OK',\n          id: 'confirm-button',\n          handler: () => {\n            console.info('before_callback');\n            ok_callback();\n            console.info('after callback');\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n  \n  handleChangeInscritMissionLocale(event){\n    console.info(event);\n    if(event.detail.checked){\n        this.is_conseiller_hidden = false;\n    } else{\n        this.is_conseiller_hidden = true;\n    }\n  }\n  \n}\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Preferences } from '@capacitor/preferences';\nimport { Plugins } from '@capacitor/core';\n\nimport { environment } from '../../environments/environment';\nimport { Subject, Observable, of, from } from 'rxjs';\nimport { map, catchError, concatMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationService {\n\n  private loggedUser: Subject<any> = new Subject<any>();\n\n  constructor(public http: HttpClient) {}\n\n  async getUser() {\n    const { value } = await Preferences.get({ key: 'user' });   \n    return value;\n  }\n  \n  async setUser(user: any) {\n    await Preferences.set({\n      key: 'user',\n      value: JSON.stringify(user)\n    });\n\n    this.loggedUser.next(JSON.stringify(user));\n  }\n\n  // check if user is logged in and token is valid\n  isLoggedIn(): Observable<boolean> {\n    return from(this.getUser())\n    .pipe(\n      concatMap(user => {\n        if (user) { // user is the value returned from the local Preferences\n          return this.validateAuthToken(JSON.parse(user).token)\n          .pipe(\n            catchError(error => of(error)),\n            map(result => {\n              if (result.error) {\n                // token is expired\n                return false;\n              }\n              else\n                // user is logged in and token is valid\n                return true;\n            })\n          )\n        } else {\n          // there is no logged user\n          console.info('there is no logged user');\n          return of(false);\n        }\n      })\n    );\n  }\n\n  loggedUserObservable(): Observable<boolean> {\n    return this.loggedUser.asObservable();\n  }\n\n  async logOut() {\n    await Preferences.remove({ key: 'user' });\n    this.loggedUser.next(null);\n  }\n\n  doLogin(username: string, password: string) {\n    return this.http.post(environment.wordpress.auth_url, {\n      username: username,\n      password: password\n    });\n  }\n\n  doRegister(userData: any) {\n    let header : HttpHeaders = new HttpHeaders({'Content-Type': 'application/json'});\n    return this.http.post(environment.wordpress.api_url + 'users/register', userData, {headers: header});\n  }\n\n  updateUser(userData: any) {\n    let header : HttpHeaders = new HttpHeaders({'Content-Type': 'application/json'});\n    return this.http.post(environment.wordpress.api_url + 'users/update', userData, {headers: header});\n  }\n\n  validateAuthToken(token: string) {\n    let header : HttpHeaders = new HttpHeaders({'Authorization': 'Bearer ' + token});\n    return this.http.post(environment.wordpress.auth_url + '/validate?token=' + token,\n      {}, {headers: header})\n  }\n  \n  lostPassword(user_email) {\n    return this.http.post(environment.wordpress.api_url + 'users/lostpassword', { email: user_email });\n  }\n  \n  resetPassword(data) {\n    let header : HttpHeaders = new HttpHeaders({'Content-Type': 'application/json'});\n    return this.http.post(environment.wordpress.api_url + 'users/resetpassword', { login: data.login, rp_key: data.rp_key, pass1: data.pass1 }, {headers: header});\n  }\n  \n}","export {};\n","import { registerPlugin } from '@capacitor/core';\nconst Preferences = registerPlugin('Preferences', {\n    web: () => import('./web').then(m => new m.PreferencesWeb()),\n});\nexport * from './definitions';\nexport { Preferences };\n"],"names":["Component","Router","FormBuilder","Validators","LoadingController","AuthenticationService","AlertController","SecteursActiviteService","RegisterPage","constructor","formBuilder","router","authenticationService","loadingController","alertController","secteursActiviteService","ngOnInit","is_conseiller_hidden","registerForm","group","prenom","required","minLength","nom","email","pattern","email_confirm","matchValues","username","telephone","code_postal","maxLength","password","password_confirm","inscrit_mission_locale","conseiller","secteur_activite","emploi_formation","accept_politique_confidentialite","requiredTrue","controls","valueChanges","subscribe","updateValueAndValidity","secteursActivite$","secteursActivite","matchTo","control","parent","value","isMatching","submitForm","that","errorMessage","loading","create","message","present","doRegister","res","dismiss","console","info","presentAlertConfirm","navigate","err","error","title","ok_callback","alert","cssClass","header","buttons","text","id","handler","handleChangeInscritMissionLocale","event","detail","checked","selector","template","Injectable","HttpClient","HttpHeaders","Preferences","environment","Subject","of","from","map","catchError","concatMap","http","getUser","get","key","setUser","user","set","JSON","stringify","loggedUser","next","isLoggedIn","pipe","validateAuthToken","parse","token","result","loggedUserObservable","asObservable","logOut","remove","doLogin","post","wordpress","auth_url","userData","api_url","headers","updateUser","lostPassword","user_email","resetPassword","data","login","rp_key","pass1","providedIn","registerPlugin","web","then","m","PreferencesWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[4,5]}